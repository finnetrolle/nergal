# Nergal - Telegram AI Bot

Telegram ะฑะพั ั ะธะฝัะตะณัะฐัะธะตะน LLM, ัะธััะตะผะพะน ะฐะณะตะฝัะพะฒ, ะฒะตะฑ-ะฟะพะธัะบะพะผ ะธ ะฟะฐะผัััั ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะดะปั ะบััะณะปะพัััะพัะฝะพะน ัะฐะฑะพัั ะฝะฐ VPS.

## ะะพะทะผะพะถะฝะพััะธ

- ๐ค **AI-ะดะธะฐะปะพะณะธ** - ะธะฝัะตะณัะฐัะธั ั ัะฐะทะปะธัะฝัะผะธ LLM ะฟัะพะฒะฐะนะดะตัะฐะผะธ (Zai, OpenAI, Anthropic, MiniMax)
- ๐ฏ **ะกะธััะตะผะฐ ะฐะณะตะฝัะพะฒ** - 14 ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัั ะฐะณะตะฝัะพะฒ ะดะปั ัะฐะทะฝัั ัะธะฟะพะฒ ะทะฐะดะฐั
- ๐ **ะะตะฑ-ะฟะพะธัะบ** - ะฟะพะธัะบ ะธะฝัะพัะผะฐัะธะธ ะฒ ะธะฝัะตัะฝะตัะต ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ MCP (Model Context Protocol)
- ๐ง **ะกะธััะตะผะฐ ะฟะฐะผััะธ** - ะบัะฐัะบะพััะพัะฝะฐั ะธ ะดะพะปะณะพััะพัะฝะฐั ะฟะฐะผััั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ๐ญ **ะกัะธะปะธ ะพัะฒะตัะพะฒ** - ะฝะฐัััะฐะธะฒะฐะตะผัะต ััะธะปะธ ะพัะฒะตัะพะฒ (default, silvio_dante)
- ๐ณ **Docker** - ะณะพัะพะฒะฐั ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั ะดะปั ะฟัะพััะพะณะพ ะดะตะฟะปะพั
- ๐ **ะะพะฝะธัะพัะธะฝะณ** - Prometheus, Grafana, Loki ะดะปั ะฝะฐะฑะปัะดะฐะตะผะพััะธ
- โก **uv** - ะฑัััััะน ะผะตะฝะตะดะถะตั ะทะฐะฒะธัะธะผะพััะตะน

## ะขะตัะฝะพะปะพะณะธะธ

- **Python 3.12** - ัะพะฒัะตะผะตะฝะฝะฐั ะฒะตััะธั Python
- **python-telegram-bot** - ะฑะธะฑะปะธะพัะตะบะฐ ะดะปั ัะฐะฑะพัั ั Telegram API
- **pydantic-settings** - ัะฟัะฐะฒะปะตะฝะธะต ะบะพะฝัะธะณััะฐัะธะตะน ัะตัะตะท ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
- **httpx** - ะฐัะธะฝััะพะฝะฝัะน HTTP ะบะปะธะตะฝั
- **PostgreSQL** - ััะฐะฝะตะฝะธะต ะดะฐะฝะฝัั ะฟะฐะผััะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- **MCP** - Model Context Protocol ะดะปั ะฒะตะฑ-ะฟะพะธัะบะฐ
- **Prometheus** - ัะฑะพั ะผะตััะธะบ
- **Grafana** - ะฒะธะทัะฐะปะธะทะฐัะธั ะธ ะดะฐัะฑะพัะดั

## ะกะธััะตะผะฐ ะฐะณะตะฝัะพะฒ

ะะพั ะธัะฟะพะปัะทัะตั ัะธััะตะผั ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัั ะฐะณะตะฝัะพะฒ:

### ะัะฝะพะฒะฝัะต ะฐะณะตะฝัั
- `default` - ะพะฑัะตะฝะธะต ะธ ัะธะฝะฐะปัะฝะพะต ัะพัะผะธัะพะฒะฐะฝะธะต ะพัะฒะตัะฐ
- `dispatcher` - ะฐะฝะฐะปะธะท ะทะฐะฟัะพัะฐ ะธ ัะพััะฐะฒะปะตะฝะธะต ะฟะปะฐะฝะฐ ะฒัะฟะพะปะฝะตะฝะธั

### ะะณะตะฝัั ัะฑะพัะฐ ะธะฝัะพัะผะฐัะธะธ
- `web_search` - ะฟะพะธัะบ ะฒ ะธะฝัะตัะฝะตัะต
- `knowledge_base` - ะฟะพะธัะบ ะฟะพ ะบะพัะฟะพัะฐัะธะฒะฝะพะน ะฑะฐะทะต ะทะฝะฐะฝะธะน
- `tech_docs` - ัะตัะฝะธัะตัะบะฐั ะดะพะบัะผะตะฝัะฐัะธั
- `code_analysis` - ะฐะฝะฐะปะธะท ะบะพะดะฐ
- `metrics` - ะฟะพะปััะตะฝะธะต ะผะตััะธะบ ะธ ััะฐัะธััะธะบะธ
- `news` - ะฐะณัะตะณะฐัะธั ะฝะพะฒะพััะตะน

### ะะณะตะฝัั ะพะฑัะฐะฑะพัะบะธ
- `analysis` - ะฐะฝะฐะปะธะท ะดะฐะฝะฝัั
- `fact_check` - ะฟัะพะฒะตัะบะฐ ัะฐะบัะพะฒ
- `comparison` - ััะฐะฒะฝะตะฝะธะต ะฐะปััะตัะฝะฐัะธะฒ
- `summary` - ัะตะทัะผะธัะพะฒะฐะฝะธะต
- `clarification` - ััะพัะฝะตะฝะธะต ะทะฐะฟัะพัะพะฒ

### ะกะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะต
- `expertise` - ัะบัะฟะตััะฝัะต ะทะฝะฐะฝะธั ะฒ ะดะพะผะตะฝะฐั

ะะพะดัะพะฑะฝะตะต ะฒ [docs/AGENT_ARCHITECTURE.md](docs/AGENT_ARCHITECTURE.md) ะธ [docs/AGENT_RECOMMENDATIONS.md](docs/AGENT_RECOMMENDATIONS.md).

## ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ

### ะขัะตะฑะพะฒะฐะฝะธั

- Python 3.12+
- [uv](https://docs.astral.sh/uv/) - ัะพะฒัะตะผะตะฝะฝัะน ะผะตะฝะตะดะถะตั ะฟะฐะบะตัะพะฒ
- PostgreSQL (ะพะฟัะธะพะฝะฐะปัะฝะพ, ะดะปั ัะธััะตะผั ะฟะฐะผััะธ)

### ะฃััะฐะฝะพะฒะบะฐ

1. ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน:
```bash
git clone https://github.com/finnetrolle/nergal.git
cd nergal
```

2. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ:
```bash
uv sync
```

3. ะกะพะทะดะฐะนัะต ัะฐะนะป `.env` ะฝะฐ ะพัะฝะพะฒะต ะฟัะธะผะตัะฐ:
```bash
cp .env.example .env
```

4. ะััะตะดะฐะบัะธััะนัะต `.env` ะธ ะดะพะฑะฐะฒััะต ะฝะตะพะฑัะพะดะธะผัะต ะบะปััะธ:
```env
TELEGRAM_BOT_TOKEN=your_token_from_botfather
LLM_API_KEY=your_llm_api_key
```

### ะะพะปััะตะฝะธะต ัะพะบะตะฝะฐ ะฑะพัะฐ

1. ะัะบัะพะนัะต [@BotFather](https://t.me/BotFather) ะฒ Telegram
2. ะัะฟัะฐะฒััะต ะบะพะผะฐะฝะดั `/newbot`
3. ะกะปะตะดัะนัะต ะธะฝััััะบัะธัะผ ะดะปั ัะพะทะดะฐะฝะธั ะฑะพัะฐ
4. ะกะบะพะฟะธััะนัะต ะฟะพะปััะตะฝะฝัะน ัะพะบะตะฝ ะฒ `.env`

### ะะฐะฟััะบ

```bash
uv run bot
```

## ะะพะฝัะธะณััะฐัะธั

### ะัะฝะพะฒะฝัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `TELEGRAM_BOT_TOKEN` | ะขะพะบะตะฝ Telegram ะฑะพัะฐ | *ะพะฑัะทะฐัะตะปัะฝะพ* |
| `LOG_LEVEL` | ะฃัะพะฒะตะฝั ะปะพะณะธัะพะฒะฐะฝะธั | `INFO` |
| `STYLE` | ะกัะธะปั ะพัะฒะตัะพะฒ (`default`, `silvio_dante`) | `default` |

### LLM ะฟัะพะฒะฐะนะดะตั

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `LLM_PROVIDER` | ะัะพะฒะฐะนะดะตั LLM (`zai`, `openai`, `anthropic`, `minimax`) | `zai` |
| `LLM_API_KEY` | API ะบะปัั LLM ะฟัะพะฒะฐะนะดะตัะฐ | *ะพะฑัะทะฐัะตะปัะฝะพ* |
| `LLM_MODEL` | ะะพะดะตะปั ะดะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั | `glm-4-flash` |
| `LLM_BASE_URL` | ะะฐััะพะผะฝัะน URL API (ะพะฟัะธะพะฝะฐะปัะฝะพ) | - |
| `LLM_TEMPERATURE` | ะขะตะผะฟะตัะฐัััะฐ ะณะตะฝะตัะฐัะธะธ | `0.7` |
| `LLM_MAX_TOKENS` | ะะฐะบัะธะผัะผ ัะพะบะตะฝะพะฒ (ะพะฟัะธะพะฝะฐะปัะฝะพ) | - |
| `LLM_TIMEOUT` | ะขะฐะนะผะฐัั ะทะฐะฟัะพัะฐ ะฒ ัะตะบัะฝะดะฐั | `120.0` |

### ะะฐะทะฐ ะดะฐะฝะฝัั

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `DB_HOST` | ะฅะพัั ะฑะฐะทั ะดะฐะฝะฝัั | `localhost` |
| `DB_PORT` | ะะพัั ะฑะฐะทั ะดะฐะฝะฝัั | `5432` |
| `DB_USER` | ะะพะปัะทะพะฒะฐัะตะปั ะะ | `nergal` |
| `DB_PASSWORD` | ะะฐัะพะปั ะะ | `nergal_secret` |
| `DB_NAME` | ะะผั ะฑะฐะทั ะดะฐะฝะฝัั | `nergal` |

### ะะตะฑ-ะฟะพะธัะบ

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `WEB_SEARCH_ENABLED` | ะะบะปััะธัั ะฒะตะฑ-ะฟะพะธัะบ | `false` |
| `WEB_SEARCH_API_KEY` | API ะบะปัั ะดะปั ะฟะพะธัะบะฐ (ะฟะพ ัะผะพะปัะฐะฝะธั `LLM_API_KEY`) | - |
| `WEB_SEARCH_MCP_URL` | URL MCP endpoint ะดะปั ะฟะพะธัะบะฐ | `https://api.z.ai/api/mcp/web_search_prime/mcp` |
| `WEB_SEARCH_MAX_RESULTS` | ะะฐะบัะธะผะฐะปัะฝะพะต ะบะพะปะธัะตััะฒะพ ัะตะทัะปััะฐัะพะฒ | `5` |
| `WEB_SEARCH_TIMEOUT` | ะขะฐะนะผะฐัั ะทะฐะฟัะพัะฐ ะฒ ัะตะบัะฝะดะฐั | `30.0` |

### ะกะธััะตะผะฐ ะฟะฐะผััะธ

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `MEMORY_SHORT_TERM_MAX_MESSAGES` | ะะฐะบัะธะผัะผ ัะพะพะฑัะตะฝะธะน ะฒ ะธััะพัะธะธ | `50` |
| `MEMORY_LONG_TERM_ENABLED` | ะะบะปััะธัั ะดะพะปะณะพััะพัะฝัั ะฟะฐะผััั | `true` |
| `MEMORY_LONG_TERM_EXTRACTION_ENABLED` | ะะบะปััะธัั ะธะทะฒะปะตัะตะฝะธะต ัะฐะบัะพะฒ | `true` |
| `MEMORY_CLEANUP_DAYS` | ะะฝะตะน ััะฐะฝะตะฝะธั ััะฐััั ัะพะพะฑัะตะฝะธะน | `30` |

### Speech-to-Text

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `STT_ENABLED` | ะะบะปััะธัั ะพะฑัะฐะฑะพัะบั ะณะพะปะพัะพะฒัั | `true` |
| `STT_PROVIDER` | ะัะพะฒะฐะนะดะตั STT (`local`, `openai`) | `local` |
| `STT_MODEL` | ะะพะดะตะปั Whisper | `base` |
| `STT_LANGUAGE` | ะะพะด ัะทัะบะฐ | `ru` |
| `STT_MAX_DURATION_SECONDS` | ะะฐะบั. ะดะปะธัะตะปัะฝะพััั ะฐัะดะธะพ | `60` |

### ะะพะฝะธัะพัะธะฝะณ

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `MONITORING_ENABLED` | ะะบะปััะธัั ะผะพะฝะธัะพัะธะฝะณ | `true` |
| `MONITORING_METRICS_PORT` | ะะพัั ะดะปั ะผะตััะธะบ Prometheus | `8000` |
| `MONITORING_JSON_LOGS` | JSON ัะพัะผะฐั ะปะพะณะพะฒ | `true` |
| `MONITORING_LOG_LEVEL` | ะฃัะพะฒะตะฝั ะปะพะณะธัะพะฒะฐะฝะธั | `INFO` |

### ะะฒัะพัะธะทะฐัะธั

| ะะตัะตะผะตะฝะฝะฐั | ะะฟะธัะฐะฝะธะต | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|----------|--------------|
| `AUTH_ENABLED` | ะะบะปััะธัั ะฐะฒัะพัะธะทะฐัะธั | `true` |
| `AUTH_ADMIN_USER_IDS` | ะกะฟะธัะพะบ Telegram ID ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ | `[]` |
| `AUTH_ADMIN_ENABLED` | ะะบะปััะธัั ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั | `true` |
| `AUTH_ADMIN_PORT` | ะะพัั ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ | `8001` |

### ะะณะตะฝัั

ะะฐะถะดัะน ะฐะณะตะฝั ะผะพะถะฝะพ ะฒะบะปััะธัั/ะฒัะบะปััะธัั ะพัะดะตะปัะฝะพ:

| ะะตัะตะผะตะฝะฝะฐั | ะะพ ัะผะพะปัะฐะฝะธั |
|------------|--------------|
| `AGENTS_WEB_SEARCH_ENABLED` | `true` |
| `AGENTS_NEWS_ENABLED` | `false` |
| `AGENTS_ANALYSIS_ENABLED` | `false` |
| `AGENTS_FACT_CHECK_ENABLED` | `false` |
| `AGENTS_COMPARISON_ENABLED` | `false` |
| `AGENTS_SUMMARY_ENABLED` | `false` |
| `AGENTS_CODE_ANALYSIS_ENABLED` | `false` |
| `AGENTS_METRICS_ENABLED` | `false` |
| `AGENTS_EXPERTISE_ENABLED` | `false` |
| `AGENTS_CLARIFICATION_ENABLED` | `false` |
| `AGENTS_KNOWLEDGE_BASE_ENABLED` | `false` |
| `AGENTS_TECH_DOCS_ENABLED` | `false` |

ะะพะดัะพะฑะฝะตะต ะพ ะฝะฐัััะพะนะบะต LLM ะฟัะพะฒะฐะนะดะตัะพะฒ ัะผ. ะฒ [docs/LLM_PROVIDERS.md](docs/LLM_PROVIDERS.md).

## ะะตะฟะปะพะน ะฝะฐ VPS

### ะก ะฟะพะผะพััั Docker (ัะตะบะพะผะตะฝะดัะตััั)

1. ะกะบะพะฟะธััะนัะต ะฟัะพะตะบั ะฝะฐ VPS:
```bash
scp -r /path/to/nergal user@your-vps:/path/to/nergal
```

2. ะะฐ VPS ัะพะทะดะฐะนัะต `.env` ัะฐะนะป:
```bash
cd /path/to/nergal
cp .env.example .env
nano .env  # ะะพะฑะฐะฒััะต ะฝะตะพะฑัะพะดะธะผัะต ะบะปััะธ
```

3. ะะฐะฟัััะธัะต ั ะฟะพะผะพััั Docker Compose:
```bash
docker compose up -d
```

4. ะัะพะฒะตัััะต ะปะพะณะธ:
```bash
docker compose logs -f
```

### ะก ะผะพะฝะธัะพัะธะฝะณะพะผ

```bash
docker compose --profile monitoring up -d
```

ะะพัััะฟั:
- Grafana: http://localhost:3000
- Prometheus: http://localhost:9090
- ะะตััะธะบะธ: http://localhost:8000/metrics

### ะฃะฟัะฐะฒะปะตะฝะธะต ะฑะพัะพะผ

```bash
# ะััะฐะฝะพะฒะธัั
docker compose down

# ะะตัะตะทะฐะฟัััะธัั
docker compose restart

# ะะฑะฝะพะฒะธัั ะฟะพัะปะต ะธะทะผะตะฝะตะฝะธะน ะฒ ะบะพะดะต
docker compose up -d --build

# ะัะบะฐะฟ ะฑะฐะทั ะดะฐะฝะฝัั
docker compose exec postgres pg_dump -U nergal nergal > backup.sql
```

ะะพะดัะพะฑะฝะตะต ะฒ [docs/DEPLOYMENT.md](docs/DEPLOYMENT.md).

## ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
nergal/
โโโ src/nergal/
โ   โโโ __init__.py              # ะะฐะบะตั
โ   โโโ config.py                # ะะพะฝัะธะณััะฐัะธั (pydantic-settings)
โ   โโโ main.py                  # ะขะพัะบะฐ ะฒัะพะดะฐ, ะปะพะณะธะบะฐ ะฑะพัะฐ
โ   โโโ exceptions.py            # ะัะบะปััะตะฝะธั
โ   โโโ auth.py                  # ะะฒัะพัะธะทะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
โ   โโโ database/                # ะะฐะฑะพัะฐ ั ะะ
โ   โ   โโโ connection.py        # ะะพะดะบะปััะตะฝะธะต
โ   โ   โโโ models.py            # SQLAlchemy ะผะพะดะตะปะธ
โ   โ   โโโ repositories.py      # ะะตะฟะพะทะธัะพัะธะธ
โ   โโโ dialog/                  # ะฃะฟัะฐะฒะปะตะฝะธะต ะดะธะฐะปะพะณะฐะผะธ
โ   โ   โโโ base.py              # ะะฐะทะพะฒัะต ะบะปะฐััั ะฐะณะตะฝัะพะฒ
โ   โ   โโโ constants.py         # ะะพะฝััะฐะฝัั ะธ ะฟัะพะผะฟัั
โ   โ   โโโ context.py           # ะะพะฝัะตะบัั ะดะธะฐะปะพะณะฐ
โ   โ   โโโ default_agent.py     # DefaultAgent
โ   โ   โโโ dispatcher_agent.py  # DispatcherAgent
โ   โ   โโโ manager.py           # DialogManager
โ   โ   โโโ styles.py            # ะกัะธะปะธ ะพัะฒะตัะพะฒ
โ   โ   โโโ agent_loader.py      # ะะฐะณััะทะบะฐ ะฐะณะตะฝัะพะฒ ะฟะพ ะบะพะฝัะธะณััะฐัะธะธ
โ   โ   โโโ agents/              # ะกะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะต ะฐะณะตะฝัั
โ   โ       โโโ base_specialized.py
โ   โ       โโโ web_search_agent.py
โ   โ       โโโ knowledge_base_agent.py
โ   โ       โโโ tech_docs_agent.py
โ   โ       โโโ code_analysis_agent.py
โ   โ       โโโ metrics_agent.py
โ   โ       โโโ news_agent.py
โ   โ       โโโ analysis_agent.py
โ   โ       โโโ fact_check_agent.py
โ   โ       โโโ comparison_agent.py
โ   โ       โโโ summary_agent.py
โ   โ       โโโ clarification_agent.py
โ   โ       โโโ expertise_agent.py
โ   โโโ llm/                     # LLM ะฟัะพะฒะฐะนะดะตัั
โ   โ   โโโ base.py              # ะะฐะทะพะฒัะน ะบะปะฐัั
โ   โ   โโโ factory.py           # ะคะฐะฑัะธะบะฐ ะฟัะพะฒะฐะนะดะตัะพะฒ
โ   โ   โโโ providers/           # ะะตะฐะปะธะทะฐัะธะธ ะฟัะพะฒะฐะนะดะตัะพะฒ
โ   โ       โโโ zai.py           # Z.ai ัะตะฐะปะธะทะฐัะธั
โ   โโโ memory/                  # ะกะธััะตะผะฐ ะฟะฐะผััะธ
โ   โ   โโโ service.py           # MemoryService
โ   โ   โโโ extraction.py        # ะะทะฒะปะตัะตะฝะธะต ัะฐะบัะพะฒ
โ   โโโ monitoring/              # ะะพะฝะธัะพัะธะฝะณ
โ   โ   โโโ health.py            # Health checks
โ   โ   โโโ logging_config.py    # ะะพะฝัะธะณััะฐัะธั ะปะพะณะธัะพะฒะฐะฝะธั
โ   โ   โโโ metrics.py           # Prometheus ะผะตััะธะบะธ
โ   โโโ admin/                   # Admin ะฒะตะฑ-ะฟะฐะฝะตะปั
โ   โ   โโโ server.py            # Flask ัะตัะฒะตั ัะฟัะฐะฒะปะตะฝะธั
โ   โโโ stt/                     # Speech-to-Text
โ   โ   โโโ base.py
โ   โ   โโโ factory.py
โ   โ   โโโ audio_utils.py       # ะะพะฝะฒะตััะฐัะธั ะฐัะดะธะพ
โ   โ   โโโ providers/
โ   โ       โโโ local_whisper.py
โ   โโโ utils/
โ   โ   โโโ markdown_to_telegram.py
โ   โโโ web_search/              # ะะตะฑ-ะฟะพะธัะบ
โ       โโโ base.py
โ       โโโ zai_mcp_http.py      # MCP HTTP ะฟัะพะฒะฐะนะดะตั
โโโ database/
โ   โโโ init.sql                 # ะะฝะธัะธะฐะปะธะทะฐัะธั ะะ
โโโ docs/
โ   โโโ AGENT_ARCHITECTURE.md    # ะััะธัะตะบัััะฐ ะฐะณะตะฝัะพะฒ
โ   โโโ AGENT_RECOMMENDATIONS.md # ะะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะฐะณะตะฝัะฐะผ
โ   โโโ DEPLOYMENT.md            # ะะฐะนะด ะฟะพ ะดะตะฟะปะพั
โ   โโโ LLM_PROVIDERS.md         # LLM ะฟัะพะฒะฐะนะดะตัั
โ   โโโ MONITORING.md            # ะะพะฝะธัะพัะธะฝะณ
โโโ monitoring/
โ   โโโ alerts.yml               # ะัะฐะฒะธะปะฐ ะฐะปะตััะพะฒ
โ   โโโ alertmanager.yml         # ะะพะฝัะธะณััะฐัะธั Alertmanager
โ   โโโ prometheus.yml           # ะะพะฝัะธะณััะฐัะธั Prometheus
โ   โโโ loki-config.yml          # ะะพะฝัะธะณััะฐัะธั Loki
โ   โโโ promtail-config.yml      # ะะพะฝัะธะณััะฐัะธั Promtail
โ   โโโ grafana/                 # Grafana ะดะฐัะฑะพัะดั
โโโ tests/                       # ะขะตััั
โโโ Dockerfile                   # Docker-ะพะฑัะฐะท
โโโ docker-compose.yml           # Docker Compose ะบะพะฝัะธะณััะฐัะธั
โโโ pyproject.toml               # ะะฐะฒะธัะธะผะพััะธ ะธ ะฝะฐัััะพะนะบะธ ะฟัะพะตะบัะฐ
โโโ .python-version              # ะะตััะธั Python
โโโ .env.example                 # ะัะธะผะตั ะบะพะฝัะธะณััะฐัะธะธ
โโโ README.md                    # ะะพะบัะผะตะฝัะฐัะธั
```

## ะะพะผะฐะฝะดั ะฑะพัะฐ

- `/start` - ะฝะฐัะฐัั ัะฐะฑะพัั ั ะฑะพัะพะผ
- `/help` - ะฟะพะปััะธัั ัะฟัะฐะฒะบั
- `/status` - ะฟัะพะฒะตัะธัั ััะฐััั ัะธััะตะผั
- `/clear` - ะพัะธััะธัั ะธััะพัะธั ะดะธะฐะปะพะณะฐ

## ะะฐะทัะฐะฑะพัะบะฐ

### ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะธ ะปะธะฝัะธะฝะณ

ะัะพะตะบั ะธัะฟะพะปัะทัะตั [Ruff](https://docs.astral.sh/ruff/) ะดะปั ะปะธะฝัะธะฝะณะฐ ะธ ัะพัะผะฐัะธัะพะฒะฐะฝะธั.

```bash
# ะัะพะฒะตัะบะฐ
uv run ruff check .

# ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต
uv run ruff format .
```

### ะขะตััั

```bash
# ะะฐะฟััะบ ัะตััะพะฒ
uv run pytest

# ะก ะฟะพะบัััะธะตะผ
uv run pytest --cov=nergal
```

### ะขะธะฟะธะทะฐัะธั

```bash
# ะัะพะฒะตัะบะฐ ัะธะฟะพะฒ
uv run mypy src/
```

## ะะพะบัะผะตะฝัะฐัะธั

- [AGENT_ARCHITECTURE.md](docs/AGENT_ARCHITECTURE.md) - ะััะธัะตะบัััะฐ ัะธััะตะผั ะฐะณะตะฝัะพะฒ
- [AGENT_RECOMMENDATIONS.md](docs/AGENT_RECOMMENDATIONS.md) - ะะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฐะณะตะฝัะพะฒ
- [DEPLOYMENT.md](docs/DEPLOYMENT.md) - ะะพะดัะพะฑะฝัะน ะณะฐะนะด ะฟะพ ะดะตะฟะปะพั
- [LLM_PROVIDERS.md](docs/LLM_PROVIDERS.md) - ะะฐัััะพะนะบะฐ LLM ะฟัะพะฒะฐะนะดะตัะพะฒ
- [MONITORING.md](docs/MONITORING.md) - ะะฐัััะพะนะบะฐ ะผะพะฝะธัะพัะธะฝะณะฐ

## ะะธัะตะฝะทะธั

MIT License. ะกะผ. ัะฐะนะป [LICENSE](LICENSE) ะดะปั ะฟะพะดัะพะฑะฝะพััะตะน.
